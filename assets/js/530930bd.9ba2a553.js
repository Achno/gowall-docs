"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[1857],{9237:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var s=t(4848),r=t(8453);const a={},c="Tesseract Provider",i={id:"ocr/providers/tesseract",title:"Tesseract Provider",description:"Prerequisites",source:"@site/docs/ocr/providers/tesseract.md",sourceDirName:"ocr/providers",slug:"/ocr/providers/tesseract",permalink:"/gowall-docs/ocr/providers/tesseract",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"OpenRouter Provider",permalink:"/gowall-docs/ocr/providers/openrouter"},next:{title:"VLLM Provider",permalink:"/gowall-docs/ocr/providers/vllm"}},o={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Most Basic Schema",id:"most-basic-schema",level:2},{value:"Tesseract + LLM Grammar/Format Correction",id:"tesseract--llm-grammarformat-correction",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"tesseract-provider",children:"Tesseract Provider"})}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.p,{children:["You must have ",(0,s.jsx)(n.code,{children:"tesseract"})," installed along with language packs. For example in ",(0,s.jsx)(n.strong,{children:"Arch Linux"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yay tesseract\n\n3 extra/tesseract-data-ben 2:4.1.0-4 (1.3 MiB 1.7 MiB) [tesseract-data]\n    Tesseract OCR data (ben)\n2 extra/tesseract-data-jpn 2:4.1.0-4 (14.1 MiB 34.0 MiB) [tesseract-data]\n    Tesseract OCR data (jpn)\n1 extra/tesseract 5.5.1-1 (1.6 MiB 4.6 MiB) (Installed) <-----------\n    An OCR program\n\n# language packs\n102 extra/tesseract-data-eng 2:4.1.0-4 (9.0 MiB 22.4 MiB) [tesseract-data] (Installed) # english\n35 extra/tesseract-data-ell 2:4.1.0-4 (3.0 MiB 7.2 MiB) [tesseract-data] (Installed) # greek\n"})}),"\n",(0,s.jsx)(n.h2,{id:"most-basic-schema",children:"Most Basic Schema"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'schemas:\n  - name: "tes"\n    config:\n      ocr:\n        provider: "tesseract"\n        model: "tesseract"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gowall ocr img.png -s tes\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Please refer to the ",(0,s.jsx)(n.a,{href:"/gowall-docs/ocr/schema",children:"schemas"})," section for more information on how to use schemas with rate limiting,pre/post processing options,text correction etc..."]}),"\n",(0,s.jsx)(n.h2,{id:"tesseract--llm-grammarformat-correction",children:"Tesseract + LLM Grammar/Format Correction"}),"\n",(0,s.jsxs)(n.p,{children:["You can checkout the ",(0,s.jsx)(n.a,{href:"/gowall-docs/ocr/schema#text-correction",children:"text correction example"})," in the schema section where it showcases how tesseract does the OCR and the LLM corrects the grammar mistakes, closes brackets etc..."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example"})}),"\n",(0,s.jsx)(n.p,{children:"Take the below image for example, lets compare the plain tesseract output and the tesseract + LLM corrected output of the extracted text."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsx)(n.tr,{children:(0,s.jsx)(n.th,{children:"Specimen"})})}),(0,s.jsx)(n.tbody,{children:(0,s.jsx)(n.tr,{children:(0,s.jsx)(n.td,{children:(0,s.jsx)(n.img,{alt:"tesseract",src:t(2760).A+"",width:"689",height:"408"})})})})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"gowall ocr img.png -p tesseract -m tesseract \n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:'title="Plain Tesseract output"',children:"// input\n\nnums := [lint{2, 3, 4, 7, 1}\n\n// stage 1\n\ndataChannel := sliceToChannel(nums)\n\n// stage 2\n\nfinalChannel := sq(dataChannel)\n\n// stage 3\n\nfor n := range finalChannel {\nfmt.Println(n)\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"As we can see Tesseract did several mistakes :"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["instead of ",(0,s.jsx)(n.code,{children:"[]int"})," it used ",(0,s.jsx)(n.code,{children:"[lint"}),", hell it didn't even bother to close the brackets."]}),"\n",(0,s.jsxs)(n.li,{children:["There is a missing closing bracket ",(0,s.jsx)(n.code,{children:"}"})," at the end in the for range loop."]}),"\n",(0,s.jsxs)(n.li,{children:["the ",(0,s.jsx)(n.code,{children:"for n:= and the fmt.Println()"})," are in the same vertical line, which isn't correct since the println should be one tab in."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Lets try the tesseract + LLM corrected output, to see what exactly changes now that tesseracts output is given to a model."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"gowall ocr img.png -s tes-llm\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-s",metastring:'title="Tesseract + LLM corrected output"',children:"\n```go\n// input\n\nnums := []int{2, 3, 4, 7, 1}\n\n// stage 1\n\ndataChannel := sliceToChannel(nums)\n\n// stage 2\n\nfinalChannel := sq(dataChannel)\n\n// stage 3\n\nfor n := range finalChannel {\n    fmt.Println(n)\n}\n```\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"Seems that things are a lot better now."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["The model knows go so it infered from the syntax and context that it should be ",(0,s.jsx)(n.code,{children:"[]int"})," not ",(0,s.jsx)(n.code,{children:"[lint"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Actually closed the brackets ",(0,s.jsx)(n.code,{children:"}"})," at the end in the for range loop."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["the ",(0,s.jsx)(n.code,{children:"for n:= and the fmt.Println()"})," are now in the correct vertical line."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"It even threw a little bonus wrapping the code inside a markdown code block and adding a language tag."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The above was done with the following schema :"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'  - name: "tes-llm"\n    config:\n      ocr:\n        provider: "tesseract"\n        model: "tesseract"\n      text_correction:\n        enabled: true\n        rate_limit:  # <-- rate limits the post-processing provider not the ocr provider\n            rps: 2\n            burst: 4\n        provider:\n          provider: "openrouter"  # You can specify all the provider configs as seen in the \'Provider Configs\' section\n          model: "x-ai/grok-4-fast:free"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Obviously here is where a selfhosted llm could come to play for grammar correction, since you don't need beefy specs to run a simple model for this task. The example above is just for demonstration purposess."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},2760:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/tes-example-ab8a9b76e578c6071ac3766cfdf17310.png"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(6540);const r={},a=s.createContext(r);function c(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);