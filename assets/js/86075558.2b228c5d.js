"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[2503],{7968:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var s=n(4848),i=n(8453);const r={sidebar_position:1},t="Introduction",l={id:"ocr/introduction",title:"Introduction",description:"Do you want to extract text from an image or pdf? Well great, as of the v0.2.2 release you can! (Though keep in mind its only in Alpha at the moment)",source:"@site/docs/ocr/introduction.md",sourceDirName:"ocr",slug:"/ocr/introduction",permalink:"/gowall-docs/ocr/introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"OCR (New)",permalink:"/gowall-docs/category/ocr-new"},next:{title:"Schemas",permalink:"/gowall-docs/ocr/schema"}},a={},c=[{value:"Providers",id:"providers",level:2},{value:"Local/SelfHosted",id:"localselfhosted",level:3},{value:"Cloud based",id:"cloud-based",level:3},{value:"One Interface &amp; Schemas",id:"one-interface--schemas",level:2},{value:"Rate-Limiting",id:"rate-limiting",level:2},{value:"Adjusting Rate Limits",id:"adjusting-rate-limits",level:3},{value:"Pre-Processing",id:"pre-processing",level:2},{value:"Post-Processing",id:"post-processing",level:2}];function d(e){const o={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,s.jsxs)(o.p,{children:["Do you want to extract text from an image or pdf? Well great, as of the ",(0,s.jsx)(o.code,{children:"v0.2.2"})," release you can! (Though keep in mind its only in ",(0,s.jsx)(o.strong,{children:"Alpha"})," at the moment)"]}),"\n",(0,s.jsxs)(o.p,{children:["Gowall supports a lot of providers ",(0,s.jsx)(o.code,{children:"Local/Selfhosted & Cloud based"})," both ",(0,s.jsx)(o.code,{children:"LLM-OCR based and traditional OCR based, or  even a mix of both"})," (think ocr with tesseract and correct grammar and other mistakes with llms either cloud or selfhosted). As always i like to give everyone all the choices possible, the choice is up to you."]}),"\n",(0,s.jsx)(o.p,{children:"This introduction section will cover all the concepts you need to understand and you can click in the links for more details."}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.img,{alt:"ocr",src:n(3349).A+"",width:"2923",height:"1699"})}),"\n",(0,s.jsx)(o.admonition,{type:"info",children:(0,s.jsx)(o.p,{children:"Make sure to read the following concepts you will need to understand them before using the ocr feature."})}),"\n",(0,s.jsx)(o.h2,{id:"providers",children:"Providers"}),"\n",(0,s.jsx)(o.p,{children:"Let's start with the list of providers gowall supports, Personally i use both local and cloud based providers depending on the task at hand."}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:"Where i would use cloud based providers"})}),"\n",(0,s.jsx)(o.p,{children:"If i want OCR an image (like past exams to discuss the answers with llms without having a limit like 4 uploads/daily like all chatbot sites have) i would use cloud base providers for free,fast and accurate OCR."}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:"Where i would use local/selfhosted providers"})}),"\n",(0,s.jsx)(o.p,{children:"If i want to OCR something like a receipt or a pdf containing very sensitive info like blood tests etc.. to insert them in my vault, i would use local/selfhosted providers for privacy and security."}),"\n",(0,s.jsx)(o.h3,{id:"localselfhosted",children:"Local/SelfHosted"}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"Not-LLM OCR based"}),"\n"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://github.com/tesseract-ocr/tesseract",children:"Tesseract"})," see the gowall tesseract guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/tesseract",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://github.com/docling-project/docling",children:"Docling"})," see the gowall Docling guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/docling",children:"here"})," (docling has both choices that's why it appears in 2 sections)"]}),"\n"]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"LLM-OCR based"}),"\n"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://github.com/vllm-project/vllm",children:"VLLM"})," see the gowall VLLM guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/vllm",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://github.com/ollama/ollama",children:"Ollama"})," see the gowall Ollama guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/ollama",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://github.com/docling-project/docling",children:"Docling"})," see the gowall Docling guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/docling",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)("u",{children:"OC"})," every OpenAI compatible API endpoint (selfhosted or not), see the gowall OC guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/oc",children:"here"})]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"cloud-based",children:"Cloud based"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://openai.com/",children:"OpenAI"})," see the gowall OpenAI guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/openai",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://openrouter.ai/",children:"OpenRouter"})," see the gowall OpenRouter guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/openrouter",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://gemini.google.com/",children:"Gemini"})," see the gowall Gemini guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/gemini",children:"here"})]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://mistral.ai/",children:"Mistral"})," see the gowall Mistral guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/providers/mistral",children:"here"})]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"one-interface--schemas",children:"One Interface & Schemas"}),"\n",(0,s.jsx)(o.p,{children:"Just as i'm trying to make gowall the one image processing tool to rule them all (get the reference lol?) the same goes for ocr."}),"\n",(0,s.jsx)(o.p,{children:"To acomplish that gowall provides a single common interface to interact with all the providers. In one moment you can OCR an image with Ollama and the next with Openrouter."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:'gowall ocr img.png -p openrouter -m qwen/qwen2.5-vl-72b-instruct:free"\n\ngowall ocr img.png -p ollama -m qwen2.5vl:7b\n'})}),"\n",(0,s.jsxs)(o.p,{children:["Now this gets repetive doesn't it? the ",(0,s.jsx)(o.code,{children:"ocr"})," command has a lot of flags (rate limiting, prompt, language etc..) and it would be impossible to specify provider specific options."]}),"\n",(0,s.jsxs)(o.p,{children:["Thats why i have created ",(0,s.jsx)(o.code,{children:"schemas"})," to cut down boilerplate. They are specified in ",(0,s.jsx)(o.code,{children:"~/.config/gowall/schema.yml"})," and are options so you don't repeat yourself. You can additionally add them in your dotfiles so they are forever saved."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'schemas:\n\n  - name: "op-qwen"  # <-- the most simplistic schema just for an introduction to the concept\n    config:\n      ocr:\n        provider: "openrouter"\n        model: "qwen/qwen2.5-vl-72b-instruct:free"\n\n  - name: "gem"\n    config:\n      ocr:\n        provider: "gemini"\n        model: "gemini-2.5-flash"\n\n'})}),"\n",(0,s.jsxs)(o.p,{children:["Now the only thing you need to do is just specify the schema name you want to use. Lets use the newly created ",(0,s.jsx)(o.code,{children:"op-qwen"})," schema. Clean don't you think?"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"gowall ocr img.png -s op-qwen\n"})}),"\n",(0,s.jsx)(o.p,{children:"You can obviously overwrite anything with flags. The priority is always flags > schema.yml options."}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"gowall ocr img.png -s op-qwen -m deepseek/deepseek-chat-v3.1:free\n"})}),"\n",(0,s.jsxs)(o.p,{children:["There are a lot more options to add in a schema like configuring rate limiting, replacing/appending prompts, messing with concurrency per stage in pre/post processing ... you get it, ",(0,s.jsx)(o.strong,{children:"i have kept it very very simple here for demonstration purposes"}),".\nYou can check the guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/schema",children:"here"})," for more info."]}),"\n",(0,s.jsx)(o.h2,{id:"rate-limiting",children:"Rate-Limiting"}),"\n",(0,s.jsx)(o.admonition,{type:"warning",children:(0,s.jsxs)(o.p,{children:["Just because gowall can send a gazillion requests per second to any provider doesn't mean it should.\nIf you are selfhosting something and you let gowall run amok on ",(0,s.jsx)("u",{children:"big files with no rate limits"})," you will see 100% usage and everything will slow to a crawl.If you are using cloud based providers they will simply will rate limit you once you exceed their limits."]})}),"\n",(0,s.jsxs)(o.p,{children:["Read the Warning? Great. ",(0,s.jsx)(o.code,{children:"Rate limits"})," is the most imporant thing you need to understand here."]}),"\n",(0,s.jsxs)(o.p,{children:["Just because i know some people wont even glance at the docs, to prevent people trying to OCR a 400 page pdf with a selfhosted model on a provider that doesn't supports pdfs (so gowall has to do more work to convert it into images) on a potato laptop that would cause 100% CPU/GPU usage and everything slowing to a crawl,",(0,s.jsx)(o.strong,{children:"i have specifically manually added some rate limits for gowall and intentionally capping its OCR performance"})]}),"\n",(0,s.jsx)(o.h3,{id:"adjusting-rate-limits",children:"Adjusting Rate Limits"}),"\n",(0,s.jsxs)(o.p,{children:["As mentioned above gowall has some rate limits options by default. You may have better hardware or you may have already paid for a provider like OpenAI and have a lot higher limits. ",(0,s.jsx)(o.strong,{children:"Adjust them to increase performance/reduce time taken"})]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"gowall ocr img.png -s op-qwen -r 4 -b 4\n"})}),"\n",(0,s.jsx)(o.p,{children:"Following the token bucket rate limiting algorithm."}),"\n",(0,s.jsxs)(o.p,{children:["\u27a4 ",(0,s.jsx)(o.code,{children:"-r"})," is the requests per second flag.",(0,s.jsx)(o.br,{}),"\n","\u27a4 ",(0,s.jsx)(o.code,{children:"-b"})," is the burst requests flag."]}),"\n",(0,s.jsxs)(o.p,{children:["Obviously you can set them in your ",(0,s.jsx)(o.code,{children:"schema.yml"})," file as well."]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'  - name: "op-qwen"\n    config:\n      ocr:\n        provider: "openrouter"\n        model: "qwen/qwen2.5-vl-72b-instruct:free"\n      rate_limit:\n        rps: 4\n        burst: 4\n'})}),"\n",(0,s.jsxs)(o.p,{children:["You should check the rate limiting guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/schema#rate-limitting",children:"here"})," for more info and examples, this is merely an introduction."]}),"\n",(0,s.jsx)(o.h2,{id:"pre-processing",children:"Pre-Processing"}),"\n",(0,s.jsx)(o.p,{children:"When you feed gowall a pdf or an image it does some pre-processing to make it easier for a model to understand or lowering the image size (lower tokens, lower cost)."}),"\n",(0,s.jsxs)(o.p,{children:["You can play around with some options, see the pre-processing guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/schema#pipeline-configs",children:"here"})," for more info."]}),"\n",(0,s.jsx)(o.h2,{id:"post-processing",children:"Post-Processing"}),"\n",(0,s.jsxs)(o.p,{children:["When the provider OCR's the image/pdf gowall can perform post-processing. Right now there exists only ",(0,s.jsx)(o.code,{children:"text correction"})," to essentially pair up tesseract with fast OCR and an llm that corrects grammar mistakes, closes brackets etc..."]}),"\n",(0,s.jsxs)(o.p,{children:["You can play around with some options, see the post-processing guide ",(0,s.jsx)(o.a,{href:"/gowall-docs/ocr/schema#text-correction",children:"here"})," for more info."]})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3349:(e,o,n)=>{n.d(o,{A:()=>s});const s=n.p+"assets/images/ocr-66e398e190e36a66dc79e067f55efcf8.png"},8453:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>l});var s=n(6540);const i={},r=s.createContext(i);function t(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);