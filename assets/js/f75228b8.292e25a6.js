"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[3127],{4473:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var o=i(4848),l=i(8453);const s={},t="Docling Provider",c={id:"ocr/providers/docling",title:"Docling Provider",description:"Prerequisites",source:"@site/docs/ocr/providers/docling.md",sourceDirName:"ocr/providers",slug:"/ocr/providers/docling",permalink:"/gowall-docs/ocr/providers/docling",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"API Keys",permalink:"/gowall-docs/ocr/providers/api_keys"},next:{title:"Gemini Provider",permalink:"/gowall-docs/ocr/providers/gemini"}},r={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Docling CLI",id:"docling-cli",level:3},{value:"Docling REST API",id:"docling-rest-api",level:3},{value:"Most Basic Schema",id:"most-basic-schema",level:2},{value:"Visual Models with Docling",id:"visual-models-with-docling",level:2},{value:"Specific Options",id:"specific-options",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"docling-provider",children:"Docling Provider"})}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsxs)(n.p,{children:["Gowall supports both the ",(0,o.jsx)(n.code,{children:"Doclign CLI"})," and the docling ",(0,o.jsx)(n.code,{children:"REST API"})," also called ",(0,o.jsx)(n.a,{href:"https://github.com/docling-project/docling-serve",children:"docling serve"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["It tries the docling cli and falls back to the REST API if needed. I suggest just installing the docling cli to ",(0,o.jsx)(n.code,{children:"$PATH"})," via a virtual environment using ",(0,o.jsx)(n.code,{children:"uv"})]}),"\n",(0,o.jsx)(n.h3,{id:"docling-cli",children:"Docling CLI"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Install ",(0,o.jsx)(n.a,{href:"https://docs.astral.sh/uv/",children:"uv"})]}),"\n",(0,o.jsxs)(n.li,{children:["Run ",(0,o.jsx)(n.code,{children:"uv tool install 'docling[vlm]'"})," to install the docling cli and the amazing visual model smoldocling."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"docling-rest-api",children:"Docling REST API"}),"\n",(0,o.jsxs)(n.p,{children:["If you decide to use the REST API you can run it via a ",(0,o.jsx)(n.a,{href:"https://github.com/docling-project/docling-serve#container-images",children:"docker container"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Thing is, if you want to use your GPU you need to install the ",(0,o.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html",children:"Nvidia Container Toolkit"}),", so essentially only Linux users can use it.\nThere is an experimental container for RoCm 6.3 as well, as the README suggests."]}),"\n",(0,o.jsx)(n.p,{children:"Also you would have to install the model manually yourself inside the docker container, since they dont ship it by default, else the size of the container would be collosal. I really just advise you to choose the docling cli unless you want something simple like CPU-only easyocr."}),"\n",(0,o.jsxs)(n.p,{children:["Gowall assumes that ollama is running in the default host/port ",(0,o.jsx)(n.code,{children:"http://localhost:5001"})," if you are running it on anything different you can specify it with this env, see ",(0,o.jsx)(n.a,{href:"/gowall-docs/ocr/providers/api_keys",children:"here"})," on how to setup env's."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"DOCLING_BASE_URL=your_host\n"})}),"\n",(0,o.jsx)(n.h2,{id:"most-basic-schema",children:"Most Basic Schema"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'schemas:\n  - name: "doc"\n    config:\n      ocr:\n        provider: "docling"\n        model: "easyocr"\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"gowall ocr img.png -s doc\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Please refer to the ",(0,o.jsx)(n.a,{href:"/gowall-docs/ocr/schema",children:"schemas"})," section for more information on how to use schemas with rate limiting,pre/post processing options,text correction etc..."]}),"\n",(0,o.jsx)(n.h2,{id:"visual-models-with-docling",children:"Visual Models with Docling"}),"\n",(0,o.jsxs)(n.p,{children:["Docling supports visual models with the ",(0,o.jsx)(n.code,{children:"vlm"})," pipeline. As long as you have installed docling via  ",(0,o.jsx)(n.code,{children:"uv tool install 'docling[vlm]'"})," you have ",(0,o.jsx)(n.code,{children:"smoldocling"})," & ",(0,o.jsx)(n.code,{children:"granite_docling"})," installed"]}),"\n",(0,o.jsx)(n.p,{children:"In the docling cli you have to specify a lot of flags like :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"docling --pipeline vlm --vlm-model smoldocling example.pdf --output ...\n"})}),"\n",(0,o.jsx)(n.p,{children:"here you just simply specify the model and gowall automatically registers it."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'schemas:\n  - name: "doc"\n    config:\n      ocr:\n        provider: "docling"\n        model: "smoldocling"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"specific-options",children:"Specific Options"}),"\n",(0,o.jsxs)(n.p,{children:["The provider specific options only for the ",(0,o.jsx)(n.code,{children:"docling"})," provider are listed below."]}),"\n",(0,o.jsxs)(n.p,{children:["All the options are from the docling CLI, they are also mostly named the same. I have explained the 2 most important options with comments, if you don't understand something refer to the docling docs or ",(0,o.jsx)(n.code,{children:"docling --help"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title="~/.config/gowall/schema.yml"',children:'schemas:\n  - name: "doc"\n    config:\n      ocr:\n        provider: "docling"\n        model: "smoldocling"\n      docling_options:\n        # by disabling this it will only handle text that\u2019s already machine-readable (eg. Pdf text),\n        # but ignores scanned text. Obviously its a lot faster than doing OCR.\n        do_ocr: true \n\n        # Runs OCR anyway even if the PDF already has a text layer \n        #and replaces any existing text with the new OCR-generated text. \n        force_ocr: true \n\n\n        pdf_backend: "dlparse_v2" # [pypdfium2|dlparse_v1|dlparse_v2|dlparse_v4] \n        abort_on_error: false \n        document_timeout: 30.0 \n        num_threads: 4 \n        device: "cuda" \n        verbose: 0 \n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>c});var o=i(6540);const l={},s=o.createContext(l);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);