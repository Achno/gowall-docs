<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Gowall Docs Blog</title>
        <link>https://Achno.github.io/gowall-docs/blog</link>
        <description>Gowall Docs Blog</description>
        <lastBuildDate>Wed, 14 May 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Fedora COPR & gowall]]></title>
            <link>https://Achno.github.io/gowall-docs/blog/Fedora-COPR-gowall</link>
            <guid>https://Achno.github.io/gowall-docs/blog/Fedora-COPR-gowall</guid>
            <pubDate>Wed, 14 May 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[The best guide on Fedora COPR]]></description>
            <content:encoded><![CDATA[<p>The best guide where i hold your hand from 0-100 to get your project on Fedora COPR.
Work within docker and learn how <a href="https://achno.github.io/gowall-docs/docs/intro">gowall</a> was put on Fedora COPR.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-we-start">Before we start<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#before-we-start" class="hash-link" aria-label="Direct link to Before we start" title="Direct link to Before we start">​</a></h2>
<hr>
<p>I) When i was trying to put my project on Fedora COPR, i struggled quite a bit because the documentation was, well... nonexistent .</p>
<p>II) What didn't help was that i had zero idea how to even make a Linux RPM package (probably like your dear reader).</p>
<p>III) Even worse i have never played around with Fedora before.</p>
<p>To address <code>I)</code> &amp; <code>II</code> i will make sure to hold your hand throughout this article from 0 to 100 and explain things as best as i can. To address problem <code>III)</code> we will use <code>docker</code> to build the project since Fedora is not my daily driver and this allows everyone to participate with a clean environment no matter their distro from the same starting point.</p>
<p><strong>Prerequisites</strong> : <code>Docker</code></p>
<p>If you are on Fedora and you don't want to use <code>Docker</code> that's fine as well.
Lastly this guide was created from my notes in Obsidian so there may be some inconsistencies.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TLDR<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#tldr" class="hash-link" aria-label="Direct link to TLDR" title="Direct link to TLDR">​</a></h2>
<p>You grab your project from your <code>tarballs</code> (ex. github release section),write a <code>.spec</code> file, build the <code>.rpm</code>, test its working as expected with <code>dnf</code> and then you just push your project to the COPR repositories via the <code>copr-cli</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started--environment--spec-file">Getting Started : Environment &amp; .spec file<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#getting-started--environment--spec-file" class="hash-link" aria-label="Direct link to Getting Started : Environment &amp; .spec file" title="Direct link to Getting Started : Environment &amp; .spec file">​</a></h2>
<hr>
<ol>
<li>Run Fedora in docker so we can  build the <code>.rpm</code> there and test that its working.</li>
</ol>
<p>Here i also install <code>go</code> since you know gowall is writen in <code>go</code> ... <code>go-wall</code>, yea anyway</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> fedora:latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf update </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> rpm-build rpmdevtools </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> dnf-plugins-core golang </span><span class="token parameter variable" style="color:#36acaa">-y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Set up the RPM build directory</li>
</ol>
<p>Some tools expect you to be running as not-root so we have to create a user. This builder user is a pleb for now. We will give him sudo permissions later.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">useradd -m builder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">su - builder</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpmdev-setuptree</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The directory structure should look something like this :</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpmbuild/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── BUILD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── RPMS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── SOURCES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── SPECS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── SRPMS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Put your tarball <code>tar.gz</code> (ex. from github releases) within the <code>SOURCES</code> folder</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/rpmbuild/SOURCES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-L</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> gowall-0.2.0.tar.gz </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/Achno/gowall/archive/refs/tags/v0.2.0.tar.gz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Navigate to the <code>SPECS</code> directory,Create a spec file for your project, if you happen to be building a <code>go</code> project like me you can easily copy-paste the below <code>.spec</code> provided your project does not depend on other packages.</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> ~/rpmbuild/SPECS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">touch</span><span class="token plain"> gowall.spec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> gowall.spec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You could also try the <code>rpmdev-newspec</code> utility if you want for the <code>.spec</code> file. Check <a href="https://rpm-packaging-guide.github.io/#working-with-spec-files" target="_blank" rel="noopener noreferrer">this</a> resource if you want to understand what all these fields mean.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Name:           gowall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Version:        </span><span class="token number" style="color:#36acaa">0.2</span><span class="token plain">.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Release:        </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">?dist</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Summary:        An image processing toolbox CLI, Convert wallpapers color theme</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">License:        MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URL:            https://github.com/Achno/gowall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Source0:        %</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">-%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">version</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BuildRequires:  golang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BuildRequires: </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Requires:       glibc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%description</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">summary</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%prep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%setup </span><span class="token parameter variable" style="color:#36acaa">-q</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CGO_CPPFLAGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">${CPPFLAGS}</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CGO_CFLAGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">${CFLAGS}</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CGO_CXXFLAGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">${CXXFLAGS}</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">CGO_LDFLAGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">${LDFLAGS}</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">GOFLAGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"-buildmode=pie -trimpath -ldflags=-linkmode=external -mod=readonly -modcacherw"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go mod tidy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go build </span><span class="token parameter variable" style="color:#36acaa">-v</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> gowall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-Dm0755</span><span class="token plain"> %</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> %</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">buildroot</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">_bindir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">_bindir</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/%</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%license LICENSE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">%doc README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-the-rpm">Build the RPM<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#build-the-rpm" class="hash-link" aria-label="Direct link to Build the RPM" title="Direct link to Build the RPM">​</a></h2>
<hr>
<ol>
<li>Build the package, you should see a <code>.rpm</code> and a <code>SRPM</code> <code>src.rpm</code>. For example</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpmbuild </span><span class="token parameter variable" style="color:#36acaa">-ba</span><span class="token plain"> gowall.spec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>RPM: <code>~/rpmbuild/RPMS/x86_64/PackageName-0.1.9-1.fc38.x86_64.rpm</code></li>
<li>SRPM: <code>~/rpmbuild/SRPMS/PackageName-0.1.9-1.src.rpm</code></li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="test-the-rpm-locally-in-the-docker-container">Test the RPM locally in the Docker container<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#test-the-rpm-locally-in-the-docker-container" class="hash-link" aria-label="Direct link to Test the RPM locally in the Docker container" title="Direct link to Test the RPM locally in the Docker container">​</a></h6>
<p>Type <code>exit</code> to go back to the root user and make the builder have sudo permissions <code>usermod -aG wheel builder</code> and change his password <code>passwd builder</code> and lastly change back to the builder user <code>su - builder</code>. Now we can test our package</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ~/rpmbuild/RPMS/x86_64/gowall-0.2.0-1.fc</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable function" style="color:#d73a49">rpm</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable parameter variable" style="color:#36acaa">-E</span><span class="token variable" style="color:#36acaa"> %fedora</span><span class="token variable" style="color:#36acaa">)</span><span class="token plain">.x86_64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now lets test our application. You will see the gowall version if you run it and that confirms that its working just fine.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gowall -v </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then just remove it with the following, after you are done testing it :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf remove gowall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upload-your-rpm-to-fedora-copr">Upload your RPM to Fedora COPR<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#upload-your-rpm-to-fedora-copr" class="hash-link" aria-label="Direct link to Upload your RPM to Fedora COPR" title="Direct link to Upload your RPM to Fedora COPR">​</a></h2>
<hr>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-fedora-account">Create a Fedora account<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#create-a-fedora-account" class="hash-link" aria-label="Direct link to Create a Fedora account" title="Direct link to Create a Fedora account">​</a></h6>
<p>Visit <a href="https://copr.fedorainfracloud.org/" target="_blank" rel="noopener noreferrer">here</a> and sign up. Then visit the fedora COPR website and login,once logged in, scroll down to the page footer. You will see <code>Site navigation</code> and <code>API</code> on the center. You will then see a code block with some configuration <strong>copy</strong> that.</p>
<p>Next install <code>copr-cli</code>.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> copr-cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Create the below file and <strong>paste</strong> that configuration there. The config is just an auth token so we can push our project to the COPR servers.</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">vi</span><span class="token plain"> ~/.config/copr</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-new-project--upload-it">Create a New Project &amp; Upload it<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#create-a-new-project--upload-it" class="hash-link" aria-label="Direct link to Create a New Project &amp; Upload it" title="Direct link to Create a New Project &amp; Upload it">​</a></h6>
<ol>
<li>Create a new project</li>
</ol>
<p>The <code>--chroot</code> is important and are the architectures you want to build for as well as the fedora versions. If Fedora upgrades you also need to update your COPR package as well.</p>
<p>Everything can be changed BUT the package name so be careful.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">copr-cli create gowall </span><span class="token parameter variable" style="color:#36acaa">--chroot</span><span class="token plain"> fedora-41-x86_64 </span><span class="token parameter variable" style="color:#36acaa">--description</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"A tool to convert a Wallpaper's color scheme &amp; more image processing features"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Create the <code>.src.rpm</code></li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rpmbuild </span><span class="token parameter variable" style="color:#36acaa">-bs</span><span class="token plain"> ~/rpmbuild/SPECS/gowall.spec</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You need to enable internet access during builds.
Go to the fedora COPR website and then check that checkbox :  Settings&gt;Enable Internet Access during builds.</p></div></div>
<ol start="3">
<li>Upload the  <code>.src.rpm</code> to COPR. Now we uploaded a build</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">copr-cli build gowall ~/rpmbuild/SRPMS/gowall-0.2.0-1.fc41.src.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Go to the COPR dashboard and monitor the build status and enjoy the fruit of your labor.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-users-will-download-your-package">How Users will download your package<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#how-users-will-download-your-package" class="hash-link" aria-label="Direct link to How Users will download your package" title="Direct link to How Users will download your package">​</a></h2>
<hr>
<p>Installation is incredibly easy. Enable the repository and install the package.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf copr </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_fedora_username</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">PackageName</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">PackageName</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can see your username in the <code>~/.config/copr</code> file we created earlier.</p>
<p>Now in the COPR package section head over to setting and fill in the Instructions on how your project can be installed</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automate-all-of-this-with-github-actions">Automate all of this with Github actions<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#automate-all-of-this-with-github-actions" class="hash-link" aria-label="Direct link to Automate all of this with Github actions" title="Direct link to Automate all of this with Github actions">​</a></h2>
<p>Check <a href="https://docs.pagure.org/copr.copr/user_documentation.html#triggerring-builds-by-tag-events" target="_blank" rel="noopener noreferrer">here</a> on how to automate all of this by triggering builds on push by tag events on a CI pipeline</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-your-package-to-the-official-fedora-repositories">How to get your package to the official Fedora repositories<a href="https://achno.github.io/gowall-docs/blog/Fedora-COPR-gowall#how-to-get-your-package-to-the-official-fedora-repositories" class="hash-link" aria-label="Direct link to How to get your package to the official Fedora repositories" title="Direct link to How to get your package to the official Fedora repositories">​</a></h2>
<p>It's a really back and forth time consuming process, this <a href="https://www.youtube.com/watch?app=desktop&amp;v=w3e3W00KqVI" target="_blank" rel="noopener noreferrer">video</a> is the best i have seen in explaining it.</p>
<p>I hope you liked my style of writing :) Check out <a href="https://github.com/Achno/gowall" target="_blank" rel="noopener noreferrer">gowall</a> if like you like features like converting wallpapers or icons to your favourite color scheme, OCR powered via Local Vision LLM's Tesseract + LLM's along with other providers ( scheduled for the <strong>v0.2.2</strong> release, well whenever i release that) and other image processing features.</p>]]></content:encoded>
            <category>go</category>
            <category>Fedora-COPR</category>
            <category>docker</category>
        </item>
    </channel>
</rss>